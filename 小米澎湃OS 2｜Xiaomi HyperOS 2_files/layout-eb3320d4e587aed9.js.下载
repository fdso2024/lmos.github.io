(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6724:function(e,t,n){Promise.resolve().then(n.bind(n,34))},34:function(e,t,n){"use strict";let i;n.r(t),n.d(t,{default:function(){return F}});var o=n(9533);n(972),n(1801),n(8341);var a=n(2791),r=n(7494),s=n(1229),l=n(671);let c=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("link",{rel:"icon",type:"image/x-icon",href:"https://s01.mifile.cn/favicon.ico"}),(0,o.jsx)("title",{children:l.D.title}),(0,o.jsx)("meta",{name:"keywords",content:l.D.keywords}),(0,o.jsx)("meta",{name:"description",content:l.D.description}),(0,o.jsx)("meta",{name:"color-scheme",content:"light dark"})]});var d=n(6393),u=n(4640),h=n(8273);let m=e=>{let{active:t,className:n,onChange:i}=e;return(0,o.jsx)("div",{className:(0,r.Z)("relative cursor-pointer",n),onClick:()=>null==i?void 0:i(!t),children:(0,o.jsxs)("svg",{viewBox:"0 0 100 100",fill:"currentColor",children:[(0,o.jsx)("rect",{width:74,height:6,x:t?26.2427:13,y:t?22.3259:22,rx:6,transform:t?"rotate(45 26.2427 22.3259)":"",className:"transition-all"}),(0,o.jsx)("rect",{width:74,height:6,x:t?22:13,y:t?74.3259:47,rx:6,transform:t?"rotate(-45 22 74.3259)":"",className:"transition-all"}),(0,o.jsx)("rect",{width:53,height:6,x:34,y:t?90:72,opacity:t?0:1,rx:6,className:"transition-all"})]})})};var f=n(7935),p=n.n(f);let x={opening:"首页",core:"底层技术",beauty:"生命感美学2.0",connect:"跨端智联",ai:"AI",public:"发版计划"},g=()=>{let{config:e}=l.trackInfo,t=(0,d.G)("desktop"),n=(0,d.G)("tablet"),[i,a]=(0,s.useState)(""),[r,c]=(0,s.useState)(""),[m,f]=(0,s.useState)(""),[p,g]=(0,s.useState)([]),[w,v]=(0,s.useState)([]),b=(0,s.useRef)([]);(0,s.useEffect)(()=>{let e=new Set,t=new IntersectionObserver(t=>{for(let n of t){let{target:t}=n;if(t.classList.contains("menu-anchor")){let i=t.getAttribute("data-name")||"";n.isIntersecting?e.add(i):e.delete(i),b.current=Array.from(e)}}},{rootMargin:"9999999px 0px -99% 0px",threshold:1});return document.querySelectorAll("a.menu-anchor").forEach(e=>t.observe(e)),()=>{t.disconnect()}},[]),(0,s.useEffect)(()=>{let e=p.length>0&&r,n="core"===m&&("beauty"===i||"opening"===i);e&&((0,h.Rt)({module_name:x[r],unit_info:p}),g([]),v([])),n&&!t&&((0,h.Rt)({module_name:x[m],unit_info:[{unit_title:"Xiaomi HyperCore",unit_location:1}]}),v([]))},[i]),(0,s.useEffect)(()=>{let e=()=>{let e=w.length>0?x[i]:""===i||"opening"===i?x.opening:null,t=w.length>0?w:e===x.opening?[{unit_title:"首页",unit_location:1}]:[];e&&((0,h.Rt)({module_name:e,unit_info:t}),v([]))},t=()=>{"hidden"===document.visibilityState&&e()};return window.addEventListener("unload",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("unload",e),document.removeEventListener("visibilitychange",t)}},[w,i]);let k=(0,s.useRef)(new Map),y=(0,s.useRef)(new Set);return(0,u.Y)(i=>{let o=b.current[b.current.length-1];o&&(a(o),function(i){var o;if(y.current.has(i))return;let a=document.getElementById("menu-anchor-".concat(i));if(!a)return;let r=a.nextElementSibling;if(!r)return;let s=null===(o=e[i])||void 0===o?void 0:o[t?"desktop":n?"tablet":"phone"];s&&0!==s.length&&(s.forEach(e=>{let t;let n=document.createTreeWalker(r,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode(t){var n;return t instanceof HTMLImageElement&&e.media&&t.src.includes(e.media)||(null===(n=t.nodeValue)||void 0===n?void 0:n.includes(e.name))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t=n.nextNode();){let n=t.parentElement;if(n){let t=window.getComputedStyle(n);if("none"===t.display||"visible"!==t.visibility||0===parseFloat(t.opacity))continue;new IntersectionObserver(t=>{t.forEach(t=>{if(t.target===n){let n=t.isIntersecting&&t.intersectionRatio>0,o=k.current.get(e.id)||!1;if(n&&!o){let t={unit_title:e.name,unit_location:e.id};v(e=>[...e,t]),f(i),k.current.set(e.id,!0)}else if(!n&&o){let t={unit_title:e.name,unit_location:e.id};g(e=>[...e,t]),c(i),k.current.set(e.id,!1)}}})},{threshold:0}).observe(n)}}}),y.current.add(i))}(o))}),(0,o.jsx)(o.Fragment,{})},w=[{text:"首页",href:"/"},{text:"跨端智联",href:"/continuity",target:"_blank"},{text:"隐私",href:"https://privacy.hyperos.mi.com/",target:"_blank"},{text:"无障碍",href:"https://accessibility.mi.com/",target:"_blank"},{text:"小米社区",href:"https://www.xiaomi.cn/",target:"_blank"},{text:"云服务",href:"https://i.mi.com/",target:"_blank"},{text:"小米商城",href:"https://www.mi.com/",target:"_blank"}],v=()=>{let[e,t]=(0,s.useState)(!1),[n,i]=(0,s.useState)(!0),l=(0,s.useRef)(null),[c,f]=(0,s.useState)(""),[x,v]=(0,s.useState)(!1),b=(0,d.G)("desktop"),[k,y]=(0,s.useState)("dark"),A=(0,s.useMemo)(()=>[],[]);(0,s.useEffect)(()=>{b||v(!0);let e=[],t=new IntersectionObserver(t=>{t.forEach(t=>{let{target:n}=t;if("menu-anchor"===n.className){let i=n.getAttribute("data-name")||"";if(t.isIntersecting)e.push(i);else{let t=e.indexOf(i);t>0&&e.splice(t,1)}f(e[e.length-1])}})},{rootMargin:"9999999px 0px -99% 0px",threshold:1});return document.querySelectorAll("a.menu-anchor").forEach(e=>t.observe(e)),()=>{t.disconnect()}},[A]),(0,s.useEffect)(()=>{let e=[],t=new IntersectionObserver(t=>{t.forEach(t=>{let{target:n}=t;if("color-anchor"===n.className){if(t.isIntersecting)e.push(n);else{let t=e.indexOf(n);t>0&&e.splice(t,1)}let i=e[e.length-1];i&&y(i.getAttribute("data-color"))}})},{rootMargin:"9999999px 0px -99% 0px",threshold:1});return document.querySelectorAll("a.color-anchor").forEach(e=>t.observe(e)),()=>{t.disconnect()}},[y,k]),(0,u.Y)(e=>{i("up"===e),t(!1)});let j=e=>{let t=document.getElementById("menu-anchor-".concat(e));t&&(null==t||t.scrollIntoView({block:"start"})),setTimeout(()=>{null==t||t.scrollIntoView()},100)},_=(0,s.useCallback)(()=>{console.log("loading over"),v(!0)},[]),E=(0,r.Z)("fixed left-0 top-0 z-50 flex w-full items-center overflow-hidden transition-all backdrop-blur-2xl transform-gpu",x?"visible opacity-100":"invisible opacity-0",{"h-full":n&&e,"h-48 tablet:h-56 desktop:h-60":n&&!e,"opacity-0":!n,"h-0":!n});return(0,o.jsxs)("nav",{ref:l,id:"_navbar",className:E,children:[(0,o.jsx)("div",{className:(0,r.Z)("flex h-full w-full flex-col overflow-x-hidden overflow-y-hidden pt-48 tablet:pt-56 desktop:flex-row desktop:pt-60"),children:[{anchor:"core",text:"底层技术"},{anchor:"beauty",text:"生命感美学2.0"},{anchor:"connect",text:"跨端智联"},{anchor:"ai",text:"AI"},{anchor:"public",text:"发版计划"}].map((n,i)=>(0,o.jsx)("span",{onClick:e=>{e.preventDefault(),j(n.anchor),t(!1),(0,h.kh)({location:i+1,element_name:n.text})},className:(0,r.Z)("desktop: group relative flex h-1/5 w-full cursor-pointer transition-colors desktop:h-full desktop:w-1/4 desktop:items-center desktop:justify-center desktop:p-0",c!==n.anchor&&"light"===k&&"from-[#FFFFFF] to-[#F8F8F8] text-dark",c!==n.anchor&&"dark"===k&&"from-[#000000] to-[#0B0B0B] text-white","light"===k?"text-dark":"text-white","light"===k?"bg-white/70 text-black":"bg-black/70 text-white"),style:{transform:"translateY(".concat(e?0:"-30%",")"),opacity:e?1:0,transitionDelay:e?"".concat(40*i+1,"ms"):"0ms"},children:(0,o.jsx)("div",{className:(0,r.Z)("left-0 top-0 inline-block h-full w-full desktop:absolute desktop:border-l-[1px] desktop:border-t-[1px]","light"===k?"desktop:border-black/10":"desktop:border-white/10"),children:(0,o.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,o.jsxs)("div",{className:(0,r.Z)("z-[50] flex h-full w-full items-center justify-center py-[40px] font-[310] desktop:text-[57px]",c===n.anchor?"desktop:font-[310]":"desktop:font-[100]",c===n.anchor?"text-[32px] opacity-100":"text-[28px] opacity-60 desktop:opacity-100"),children:[(0,o.jsx)("div",{className:"w-full text-center desktop:w-[68px]",children:n.text}),(0,o.jsxs)("span",{className:(0,r.Z)("absolute bottom-[42px] left-[50px] z-50 hidden text-[20px] font-[300] transition-opacity group-hover:opacity-100 desktop:block",c===n.anchor?"desktop:font-[400]":"desktop:font-[300]"),children:["0".concat(i+1),(0,o.jsx)("span",{className:(0,r.Z)("relative left-[-22px] top-[8px] inline-block h-[2px] w-[14px]","light"===k?"bg-[#1D1D1F]":"bg-white")})]})]}),(0,o.jsx)("div",{className:"px-[24px]",children:(0,o.jsx)("div",{className:(0,r.Z)("h-[1px] w-full shrink-0","light"===k?"bg-[#F5F5F5]":"bg-[#FFFFFF]/10")})})]})})},n.anchor))}),(0,o.jsxs)("div",{className:(0,r.Z)("absolute left-0 top-0 flex h-48 w-full items-center justify-end px-24 tablet:h-56 desktop:h-60 desktop:justify-between desktop:px-80",!n&&!e&&p()["nav-animation"],"light"===k&&b&&!e?"bg-white/30 text-black":"dark"===k?"bg-black/70 text-white":"bg-white/70 text-black"),children:[(0,o.jsx)("div",{className:(0,r.Z)("hidden w-128 cursor-pointer self-center desktop:block"),onClick:()=>{window.location.href="./",(0,h.OL)({location:0,element_name:"Xiaomi HyperOS"})},children:(0,o.jsx)(a.AssetImage,{path:"light"===k?"hyperos-homepage/osLogo.svg":"hyperos-homepage/light_hyperos.svg",layout:"intrinsic",width:165,height:23,onLoad:_,placeholder:"data:image/svg+xml;base64,UklGRp4AAABXRUJQVlA4WAoAAAAQAAAAEwAAAgAAQUxQSD0AAAAQWlo7Kys7Ozs7SloaOys7K1pad2paamqZd4Nqd0pqd4ODg6F3Wkp3dw8PGhoaDw8PDwAaSkoaDw8AKw8rAFZQOCA6AAAA8AIAnQEqFAADAD7RVKNLqCSjIbAIAQAaCUAOwABRtAAA/vyuMfNsWtwv//JT+u7yi57v/r4ApvkAAA=="})}),(0,o.jsx)("div",{className:(0,r.Z)("hidden space-x-68 self-center lg:block"),children:w.map((e,t)=>(0,o.jsx)("a",{href:e.href,target:e.target,rel:"noreferrer",className:(0,r.Z)("text-16 hover:text-blue"),onClick:()=>{(0,h.OL)({location:t+1,element_name:e.text})},children:e.text},e.href))}),(0,o.jsx)("div",{className:"flex h-48 w-48 justify-end self-center",onMouseDown:e=>e.stopPropagation(),children:(0,o.jsx)(m,{className:(0,r.Z)("right-8 mt-12 w-24 tablet:right-56 desktop:right-0"),active:e,onChange:e=>{t(e),e&&(0,h.kh)({location:0,element_name:"更多导航"})}})})]}),(0,o.jsx)(g,{})]})},b=()=>(0,o.jsxs)("div",{className:"flex h-[100vh] w-full flex-col justify-center bg-white",children:[(0,o.jsx)("div",{className:"w-full text-center text-black/80 text-body",children:"屏幕较小，无法正常显示网页"}),(0,o.jsx)("div",{className:"mt-8 w-full text-center text-black/50 text-caption",children:"*若为折叠屏外屏，请打开内屏查看"})]});var k=n(8759);let y=()=>(0,o.jsxs)(o.Fragment,{children:[l.trackInfo.baiduId&&(0,o.jsx)(k.default,{id:"baidu_tongji",strategy:"afterInteractive",src:"https://hm.baidu.com/hm.js?".concat(l.trackInfo.baiduId),dangerouslySetInnerHTML:{__html:"window._hmt = window._hmt ?? [];"}}),l.trackInfo.onetrackId&&(0,o.jsx)(k.default,{id:"ontrack",strategy:"afterInteractive",src:"//ssl-cdn.static.browser.mi-img.com/mistat-data/onetrack/onetrack.js"})]}),A=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(k.default,{id:"jsp",src:"https://cdn.cnbj1.fds.api.mi-img.com/common/jsonp.min.js"}),(0,o.jsx)(k.default,{id:"wxsdk",src:"https://cdn.cnbj1.fds.api.mi-img.com/common/jweixin-1.6.0.js",onLoad:()=>(function(){if(function(){let e=navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(e)}()){i=window.wx;let e=window.JSONP||(()=>{}),t=encodeURI(window.location.href);try{e({url:"https://api.sec.miui.com/wechat/sign",data:{url:t},success:function(e){i.config({debug:!1,appId:"wxb19433b24ed88cfd",timestamp:e.timeStamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["updateTimelineShareData","updateAppMessageShareData"]}),i.ready(function(){i.updateTimelineShareData({title:l.$.title,link:t,imgUrl:l.$.imgUrl}),i.updateAppMessageShareData({title:l.$.title,desc:l.$.desc,link:t,imgUrl:l.$.imgUrl})})}})}catch(e){console.log("-----微信接口请求失败-----",e)}}})()})]}),j=()=>{var e=navigator.userAgent.toLowerCase();return -1!==e.indexOf("safari")&&-1===e.indexOf("chrome")},_=()=>{let e=navigator.userAgent.toLowerCase();return["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"].some(t=>e.includes(t.toLowerCase()))},E=()=>!!window.miui,N=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!(_()||j()||E()))},[]),e},S=()=>{let e=(0,s.useRef)(),t=(0,s.useRef)(0),n=(0,s.useRef)(1),i=()=>{var i,o;let a=null!==(i=window.screen.width)&&void 0!==i?i:window.outerWidth,r=null!==(o=window.screen.height)&&void 0!==o?o:window.outerHeight;t.current/n.current==a/r&&a==t.current&&e.current||setTimeout(()=>{let i=.01*window.innerHeight;e.current=i,t.current=a,n.current=Math.max(r,1),document.documentElement.style.setProperty("--vh","".concat(i,"px"))},0)};(0,s.useEffect)(()=>(i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[])};var I=n(841);function F(e){let{children:t}=e;(0,s.useEffect)(()=>{(0,h.wb)(),history.scrollRestoration&&(history.scrollRestoration="manual")},[]),S(),function(){let[e,t]=(0,s.useState)(!I.nI);(0,s.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");function n(){I.nI?(document.documentElement.classList.remove("dark"),t(!1)):e.matches?(document.documentElement.classList.add("dark"),t(!0)):(document.documentElement.classList.remove("dark"),t(!1))}return n(),e.addEventListener?e.addEventListener("change",n):e.addListener(n),()=>{e.removeEventListener?e.removeEventListener("change",n):e.removeListener(n)}})}(),(0,s.useEffect)(()=>{let e=document.getElementsByTagName("meta"),t="width=device-width,initial-scale=1.0,maximum-scale=1.0, user-scalable=0";for(let n=0;n<e.length;n++)"viewport"===e[n].getAttribute("name")&&e[n].getAttribute("content")!=t&&e[n].setAttribute("content",t)},[]);let n=function(){let e=(0,d.G)("min");return("boolean"!=typeof e||e)&&!function(){if("undefined"==typeof screen)return!1;let e=378===screen.width&&650===screen.height||395===screen.width&&455===screen.height;return function(){let e=navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(e)}()&&e}()}(),i=N();return(0,o.jsxs)("html",{lang:"zh-CN",className:(0,r.Z)({"desktop:snap-y desktop:snap-mandatory":i}),children:[(0,o.jsx)(A,{}),(0,o.jsx)(c,{}),(0,o.jsxs)("body",{className:"touch-manipulation desktop:overscroll-y-none",children:[n?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(v,{}),(0,o.jsx)(a.ConfigProvider,{children:t})]}):(0,o.jsx)(b,{}),(0,o.jsx)(y,{})]})]})}},972:function(){},7935:function(e){e.exports={"showTextMob-animation":"animation_showTextMob-animation__E_R2A",showText:"animation_showText__sD2PE","showText-animation":"animation_showText-animation___c6Fd","hideVideo-animation":"animation_hideVideo-animation__OEIAz",hideVideo:"animation_hideVideo__bzsD5","show-side-animation":"animation_show-side-animation__TJl1O","hide-side-animation":"animation_hide-side-animation__G8BES"}}},function(e){e.O(0,[557,603,861,373,484,170,842,744],function(){return e(e.s=6724)}),_N_E=e.O()}]);